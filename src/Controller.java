import com.sun.codemodel.internal.JOp;import javax.swing.*;import java.awt.event.ActionEvent;import java.awt.event.ActionListener;public class Controller implements ActionListener {    private BoardView boardView;    private Model model;    private int result = 0;         // default 0 means, game is playing    public Controller(Model model, BoardView boardView) {        this.model = model;        this.boardView = boardView;        this.boardView.addActionListenerToButtons(this);    }    public void playAgain() {        int reply = JOptionPane.showConfirmDialog(                null, "Play again?", "Tic Tac Toe", JOptionPane.YES_NO_OPTION);        if (reply == JOptionPane.YES_OPTION) {            boardView.resetView();            model.resetModel();        } else {            boardView.dispose();            System.exit(0);        }    }    @Override    public void actionPerformed(ActionEvent e) {        JButton source = (JButton) e.getSource();        int i = (int)source.getClientProperty("index");            if (source == boardView.gameButton[i]) {                System.out.println("Controller => Mark cells[" + i + "] "+ model.isFree(i));                try {                    model.setClick(i, Mark.X);                } catch (Exception exc){                    JOptionPane.showMessageDialog(null, "This cell is taken from Controller");                    System.out.println("Error: " + exc.getMessage());//            exc.printStackTrace();                }                    result = model.getResult();                    switch (result){                        case 1:                            JOptionPane.showMessageDialog(null, "X wins!");                            break;                        case 2:                            JOptionPane.showMessageDialog(null, "O wins!");                            break;                        case 3:                            JOptionPane.showMessageDialog(null, "Ties!");                            break;                    }                    model.changeTurn();                }        if (result != 0)            playAgain();    }}